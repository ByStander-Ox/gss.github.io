---
uid: ifelse
title: if else blocks
subtitle: Responsive to any prop w/o Media Queries
color: b
layout: post
---

The age of "Responsive Web Design" is upon us and it's mandate for designs that elegantly adapt to the user's viewing context has made
web dev "hard, really hard, actually" as Mr Jeff Croft [lamented](http://jeffcroft.com/blog/2012/mar/02/implementing-responsive-design/).
Conceptualizing Responsive layouts is difficult enough, but implementing such layouts with
[CSS Media Queries](https://developer.mozilla.org/en-US/docs/Web/Guide/CSS/Media_queries) is an awkward affair
because as Ian Taylor [illuminated](http://ianstormtaylor.com/media-queries-are-a-hack/), Media Queries are a hack.

## Element Queries

Media Queries allow layouts to adapt to the size of the viewport, but if you want to adapt to anything else, tough luck.
W3C members have received an [onslaught](http://www.xanthir.com/b4PR0) of requests for "Element Queries" - because web designers
are desperate to achieve higher levels of adaptiveness with their layouts.  The idea with Element Queries is simple - individual elements
can be responsive to their own size, which would allow for richer designs & more modular Style Sheets. W3C have
[start discussion](http://responsiveimagescg.github.io/eq-usecases/) about element queries but as this point they still don't have official
endorsement of element queries.

Yet, even with the hypothetical Element Query, elements could only be adaptive to their size.  Why not allow elements to be adaptive to any property
like `col-count` or even to a custom variable?

## Arbitrary Property Conditionals

Which brings us to `@if` and `@else` directives.  Think of them as a more expressive replacement for Media Queries and the
much desired Element Query, that allow CSS rules to be adaptive to any arbitrary property or custom constraint variable.

Instead of continuing the tradition of the Query types; `min-width`, `max-width`, `min-height` & `max-height`; for every
available CSS property, `@if` `@else` directives use the conditional operators: `<`, `<=`, `>`, `>=`, `!=`, `==`, `or`, and `and`.

As an example, if we wanted a set of CSS rules to kick when the screen is less than 960px:

{% highlight css %}

/* GSS: */
@if ::window[width] < 960 {
  /* ... */
}

/* Old-school Media Queries: */
@media screen and (max-width: 960px) {
  /* ... */
}

{% endhighlight %}

But, any property can be used within an `@if`, `@else` conditional.  So, if you want a layout to be responsive to a section's width:

{% highlight css %}

@if section[width] <= 400 {
  section {
    article {
      :first[top] == ^[top];
      bottom: == :next[top];
      left: == ^[left];
      width: == ^[width];
      height: == ^[height] / 2;
    }
  }
}
@else  {
  section {
    article {
      width: == ^[width] / 2;
      height: == ^[height];
      top: == :next[top];
      right: == :next[left];
    }
  }
}

{% endhighlight %}

When the `section` element width goes bellows 400px, the `article` elements will be constraints
by the `@if` block otherwise by the `@else` block. <a href="http://codepen.io/cbchouinard/pen/emEaQR" target="_blank">Live example.</a>

### Constraints evaluation in conditions
In order to determine if some conditions hold, GSS needs to evaluate every constraints outside of conditions before evaluating if
conditions are met, which include constraints appearing after conditions.

As explained in the [GSS constraints guide](/guide/constraints), the order of constraints declaration can affects the
resulting solution.

Constraints within the condition of the following example will be added to the solver after the outside constraints. Which
make sens since the condition is true, you want the constraints within that condition to overcome the other evenly strenghted ones.

{% highlight css %}

#elm[width] == ::window[width];

@if elm[width] < 400
  #elm[height] == 300;

#elm[width] == 300;
#elm[height] == 500;

{% endhighlight %}

In this example, if the `width` of the screen is smaller than 400px, the `height` of the element will be constraint to 300px even
though there's a `height` constraint defined after the condition.

### Condition looping
As describe in the [GSS constraints guide](/guide/constraints), constraints are two ways. You need to be well aware of this fact
when using conditions. GSS is pretty good at handling cases where a looping could occurs but still be aware that in some very
complicated conditions nesting you could have some situation where you can into a loop but GSS should get your back the vast majority
of the time.

For example, the following could have led to a loop but the cassowary solver will figure out that the solution for this set of
constraints is to give a width of 600px of #elm.

{% highlight css %}

#elm[width] == 800;
.someElm[width] == #elm[width];

@if #elm[width] <= 400 {
  .someElm[width] == 600;
}

{% endhighlight %}
